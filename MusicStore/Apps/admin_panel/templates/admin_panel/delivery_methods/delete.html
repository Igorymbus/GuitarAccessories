{% extends 'admin_panel/base.html' %}

{% block admin_title %}Удаление способа доставки{% endblock %}

{% block admin_content %}
<div class="admin-header">
    <h2><i class="bi bi-trash"></i> Удаление способа доставки</h2>
    <p class="text-muted mb-0">
        <a href="{% url 'admin_delivery_methods' %}" class="text-decoration-none">
            <i class="bi bi-arrow-left"></i> Вернуться к списку способов доставки
        </a>
    </p>
</div>

<div class="admin-card">
    {% if orders_count > 0 %}
    <div class="alert alert-danger">
        <i class="bi bi-exclamation-triangle"></i> 
        Нельзя удалить способ доставки "{{ method.delivery_methods_name }}", так как он используется в {{ orders_count }} заказах!
    </div>
    <a href="{% url 'admin_delivery_methods' %}" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Вернуться
    </a>
    {% else %}
    <div class="alert alert-warning">
        <i class="bi bi-exclamation-triangle"></i> Вы уверены, что хотите удалить способ доставки "{{ method.delivery_methods_name }}"?
    </div>
    
    <div class="mb-3">
        <p><strong>Название:</strong> {{ method.delivery_methods_name }}</p>
        <p><strong>Стоимость:</strong> 
            {% if method.delivery_methods_cost and method.delivery_methods_cost > 0 %}
                {{ method.delivery_methods_cost|floatformat:2 }} ₽
            {% else %}
                Бесплатно
            {% endif %}
        </p>
    </div>
    
    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">
            <i class="bi bi-trash"></i> Удалить
        </button>
        <a href="{% url 'admin_delivery_methods' %}" class="btn btn-secondary">
            <i class="bi bi-x"></i> Отмена
        </a>
    </form>
    {% endif %}
</div>
{% endblock %}

